variable "AICAGE_REPOSITORY" {
  description = "Repository namespace/image."
}

variable "AICAGE_VERSION" {
  description = "Tag suffix appended as <tool>-<base>-<AICAGE_VERSION>."
}

variable "AICAGE_PLATFORMS" {
  description = "Space-separated platform list (linux/amd64 linux/arm64)."
}

# Single flexible target; scripts set TOOL/BASE_IMAGE/tags dynamically via --set.
target "agent" {
  context = "."
  platforms = [
    for platform in split(" ", AICAGE_PLATFORMS) : platform
  ]
}
